<view class="container"><view class="carousel"><swiper indicator-dots="{{true}}" circular="true" duration="400"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item"><view class="image-wrapper"><image class="loaded" src="{{item.m0}}" mode="aspectFill"></image></view></swiper-item></block></swiper></view><view class="detail-text"><block wx:if="{{spike}}"><view class="spike"><text class="price-tip">¥</text><text class="price">{{productInfo.price}}</text><text class="price-tip" style="padding-left:10rpx;text-decoration:line-through;font-size:27rpx;">{{"¥"+productInfo.originalPrice}}</text><text class="price-tip" style="float:right;padding-right:20rpx;">{{timing}}</text><text class="price-tip" style="font-size:27rpx;float:right;">距离结束还剩：</text></view></block><block wx:if="{{!spike}}"><view class="no-spike"><text class="price-tip">¥</text><text class="price">{{productInfo.price}}</text><text class=" price-tip" style="padding-left:10rpx;text-decoration:line-through;font-size:27rpx;">{{"¥"+productInfo.originalPrice}}</text></view></block><view class="product-info"><block wx:for="{{services}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text class="coupon-tip">{{item}}</text></block><text class="title">{{productInfo.name}}</text></view><view class="bot-row"><text class="bot-text">{{"销量: "+productInfo.sale}}</text><text class="bot-text">{{"库存: "+productInfo.stock}}</text></view></view><view class="c-list"><view data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">购买类型</text><view class="con"><block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{sItem}}</text></block></view><text class="yticon icon-you"></text></view><view class="c-row b-b"><text class="tit">服务</text><view class="bz-list con"><text>商品如有问题请尽快和客服联系</text></view></view><view data-event-opts="{{[['tap',[['toggleParam',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">参数</text><view class="con"><text>点击查看商品参数</text></view><text class="yticon icon-you"></text></view></view><view data-event-opts="{{[['tap',[['toggleCoupons',['$event']]]]]}}" class="coupons" bindtap="__e"><text class="coupon_title">优惠</text><view class="coupons_name"><text class="coupon_name">点击查看优惠券</text></view><text class="yticon icon-you"></text></view><view class="detail-desc"><view class="d-header"><text>图文详情</text></view><rich-text class="d-desc" nodes="{{desc}}"></rich-text></view><view class="page-bottom"><navigator class="p-b-btn" url="/pages/index/index" open-type="switchTab"><text class="yticon icon-xiatubiao--copy"></text><text>首页</text></navigator><navigator class="p-b-btn" url="/pages/cart/cart" open-type="switchTab"><text class="yticon icon-gouwuche"></text><text>购物车</text></navigator><view class="action-btn-group"><button class=" action-btn no-border buy-now-btn" type="primary" data-event-opts="{{[['tap',[['buy',['$event']]]]]}}" bindtap="__e">立即购买</button><button class=" action-btn no-border add-cart-btn" type="primary" data-event-opts="{{[['tap',[['addCartItem',['$event']]]]]}}" bindtap="__e">加入购物车</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['$event']]]]]}}" class="{{['popup spec',skuSelectInfo.specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="a-t"><image src="{{$root.m1}}"></image><view class="right"><text class="price">{{"¥"+skuSelectInfo.price}}</text><text class="stock">{{"库存："+skuSelectInfo.stock+"件"}}</text><view class="selected">已选：<block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{sItem}}</text></block></view></view></view><block wx:for="{{specList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list"><text>{{item.name}}</text><block wx:if="{{index==0}}"><view class="item-list"><block wx:for="{{sp1List}}" wx:for-item="sp1Item" wx:for-index="sp1Index" wx:key="sp1Index"><text data-event-opts="{{[['tap',[['selectSpec',['$0','$1',index,sp1Index],[[['sp1List','',sp1Index]],'sp1List']]]]]}}" class="{{['tit',(sp1Item.selected)?'selected':'']}}" bindtap="__e">{{''+sp1Item.name+''}}</text></block></view></block><block wx:if="{{index==1}}"><view class="item-list"><block wx:for="{{sp2List}}" wx:for-item="sp1Item" wx:for-index="sp1Index" wx:key="sp1Index"><text data-event-opts="{{[['tap',[['selectSpec',['$0','$1',index,sp1Index],[[['sp2List','',sp1Index]],'sp2List']]]]]}}" class="{{['tit',(sp1Item.selected)?'selected':'']}}" bindtap="__e">{{''+sp1Item.name+''}}</text></block></view></block><block wx:if="{{index==2}}"><view class="item-list"><block wx:for="{{sp3List}}" wx:for-item="sp1Item" wx:for-index="sp1Index" wx:key="sp1Index"><text data-event-opts="{{[['tap',[['selectSpec',['$0','$1',index,sp1Index],[[['sp3List','',sp1Index]],'sp3List']]]]]}}" class="{{['tit',(sp1Item.selected)?'selected':'']}}" bindtap="__e">{{''+sp1Item.name+''}}</text></block></view></block></view></block><view class="attr-list"><text>数量</text><view class="stepper"><text data-event-opts="{{[['tap',[['num_less',['$event']]]]]}}" bindtap="__e">-</text><input type="number" disabled="disabled" value="{{num}}"/><text data-event-opts="{{[['tap',[['num_add',['$event']]]]]}}" bindtap="__e">+</text></view></view><button data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleParam',['$event']]]]]}}" class="{{['popup param',paramClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="param-header"><text>产品参数</text></view><scroll-view class="param-content" scroll-y="true"><block wx:for="{{productParamList}}" wx:for-item="param" wx:for-index="index" wx:key="index"><view class="uni-title uni-common-mt p-row"><text class="p-name">{{param.name}}</text><text class="p-value">{{param.value}}</text></view></block></scroll-view><button data-event-opts="{{[['tap',[['toggleParam',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><view data-event-opts="{{[['tap',[['toggleCoupons',['$event']]]],['touchmove',[['stopPrevent',['$event']]]]]}}" class="{{['coupons_opup',couponsPopuop]}}" bindtap="__e" catchtouchmove="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="param-header"><text>优惠</text></view><scroll-view class="param-content" scroll-y="true"><view class="param-content_min_title">领券</view><block wx:for="{{coupons}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="grid col-2 coupon_card"><view class="coupon_detils"><view class="grid col-3 coupon_detils_first"><view class="coupon_amount_pre">￥</view><view class="coupon_amount">{{item.amount}}</view><view class="coupon_name">{{item.name}}</view></view><view class="coupon_second">{{item.note+",满"+item.minPoint+"可用"}}</view><view class="coupon_third">{{item.startTime+"至"+item.endTime}}</view></view><view data-event-opts="{{[['tap',[['collectCoupon',['$0'],[[['coupons','',index,'id']]]]]]]}}" class="collect_coupon" bindtap="__e">立即抢</view></view></block></scroll-view><button data-event-opts="{{[['tap',[['toggleCoupons',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><share class="vue-ref" vue-id="1c037ce0-1" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>
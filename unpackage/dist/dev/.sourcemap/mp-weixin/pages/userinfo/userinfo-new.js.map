{"version":3,"sources":["uni-app:///main.js","webpack:///E:/WanchGit/WanchShop/mall-app/pages/userinfo/userinfo-new.vue?fd0c","webpack:///E:/WanchGit/WanchShop/mall-app/pages/userinfo/userinfo-new.vue?1519","webpack:///E:/WanchGit/WanchShop/mall-app/pages/userinfo/userinfo-new.vue?b0ba","webpack:///E:/WanchGit/WanchShop/mall-app/pages/userinfo/userinfo-new.vue?956c","uni-app:///pages/userinfo/userinfo-new.vue","webpack:///E:/WanchGit/WanchShop/mall-app/pages/userinfo/userinfo-new.vue?cd11","webpack:///E:/WanchGit/WanchShop/mall-app/pages/userinfo/userinfo-new.vue?ab5d"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAsmB,CAAgB,goBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6I1nB;AACA,uF;;;;AAIA;AACA;AACA,oBADA;AAEA,4BAFA;AAGA,sBAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,iBADA;AAEA,cAFA;AAGA,kBAHA;AAIA,mBAJA;AAKA,mBALA;AAMA,mBANA;AAOA;AACA,oBADA;AAEA,iBAFA;AAGA,sBAHA;AAIA,oBAJA;AAKA,uBALA;AAMA,iBANA;AAOA,oBAPA,EAPA;;AAgBA,iBAhBA;AAiBA,cAjBA;AAkBA,eAlBA;AAmBA;AACA,mBADA;AAEA,qBAFA;AAGA,oBAHA;AAIA,sBAJA,EAnBA;;;AA0BA,GAjCA;AAkCA;AACA,+CADA;AAEA,aAFA,uBAEA;AACA;AACA,KAJA;AAKA,WALA,qBAKA;AACA;AACA,KAPA,GAlCA;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA,EA3CA;;AAyDA,QAzDA,oBAyDA;AACA;AACA,GA3DA;AA4DA;AACA,8CADA;AAEA,eAFA,uBAEA,IAFA,EAEA,IAFA,EAEA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA;AACA;AACA,KAfA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA,gCANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAZA;AAaA,UAbA;AAcA;AACA,KA9CA;AA+CA,WA/CA,mBA+CA,IA/CA,EA+CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA7DA;AA8DA,gBA9DA,0BA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA,MASA;AACA;AACA;AACA,sCADA;;AAGA;AACA,OAhBA;AAiBA,KAjFA;AAkFA,UAlFA,kBAkFA,IAlFA,EAkFA;AACA;AACA;AACA;AACA;AACA;AACA,KAxFA;AAyFA,cAzFA,sBAyFA,KAzFA,EAyFA;AACA;AACA,KA3FA;AA4FA,UA5FA,oBA4FA;AACA;AACA;AACA,KA/FA;AAgGA,eAhGA,uBAgGA,KAhGA,EAgGA;AACA;AACA,KAlGA;AAmGA,WAnGA,qBAmGA;AACA;AACA;AACA,KAtGA;AAuGA,eAvGA,uBAuGA,KAvGA,EAuGA;AACA;AACA,KAzGA;AA0GA,WA1GA,qBA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;;AAEA,OAVA;;AAYA,KAzHA;AA0HA,cA1HA,wBA0HA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAPA;AAQA,KApIA;AAqIA,gBArIA,wBAqIA,KArIA,EAqIA;AACA;AACA,KAvIA;AAwIA,YAxIA,sBAwIA;AACA;AACA;AACA,KA3IA,GA5DA,E;;;;;;;;;;;;;AClJA;AAAA;AAAA;AAAA;AAAwmC,CAAgB,klCAAG,EAAC,C;;;;;;;;;;;ACA5nC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/userinfo/userinfo-new.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/userinfo/userinfo-new.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./userinfo-new.vue?vue&type=template&id=33fc1479&\"\nvar renderjs\nimport script from \"./userinfo-new.vue?vue&type=script&lang=js&\"\nexport * from \"./userinfo-new.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userinfo-new.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/userinfo/userinfo-new.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userinfo-new.vue?vue&type=template&id=33fc1479&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userinfo-new.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userinfo-new.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"bg-color-card\"></view>\r\n\t\t<view class=\"image\">\r\n\t\t\t<image class=\"heardimg\" :src=\"userInfo.portrait || '/static/missing-face.png'\" mode=\"\"></image>\r\n\t\t</view>\r\n\t\t<view class=\"info-card\">\r\n\t\t\t<text class=\"name\" @click=\"togglePopup('center', 'tip')\">{{userInfo.nickname}}</text>\r\n\t\t\t<view class=\"sex\">\r\n\t\t\t\t<image v-if=\"userInfo.gender == 1\" class=\"sex-img\" src=\"../../static/man.png\" @click=\"togglePopup('center', 'gender')\" mode=\"\"></image>\r\n\t\t\t\t<image v-if=\"userInfo.gender == 2\" class=\"sex-img\" src=\"../../static/woman.png\" @click=\"togglePopup('center', 'gender')\" mode=\"\"></image>\r\n\t\t\t\t<image v-if=\"userInfo.gender == 0\" class=\"sex-img\" src=\"../../static/sex.png\" @click=\"togglePopup('center', 'gender')\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t\t<br>\r\n\t\t\t<view class=\"phone\">\r\n\t\t\t\t<image class=\"p-img\" src=\"../../static/phone.png\"></image>\r\n\t\t\t\t<text class=\"p-title\" @click=\"togglePopup('center', 'phone')\">{{userInfo.phone || '点击设置'}}</text>\r\n\t\t\t</view>\r\n\t\t\t<br>\r\n\t\t\t<view class=\"date\">\r\n\t\t\t\t<image class=\"d-img\" src=\"../../static/bir.png\"></image>\r\n\t\t\t\t<view class=\"d-picker\">\r\n\t\t\t\t\t<picker mode=\"date\" style=\"line-height: 50rpx;\" :value=\"userInfo.birthday\" :start=\"startDate\" :end=\"endDate\" @change=\"bindDateChange\">\r\n\t\t\t\t\t\t<!-- <input type=\"text\" class=\"d-title\" :value=\"userInfo.birthday\" /> -->\r\n\t\t\t\t\t\t<text class=\"d-title\">{{userInfo.birthday || '点击设置'}}</text>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<br>\r\n\t\t\t<view class=\"email\">\r\n\t\t\t\t<image class=\"e-img\" src=\"../../static/email.png\"></image>\r\n\t\t\t\t<text class=\"e-title\" @click=\"togglePopup('center', 'email')\">{{userInfo.email || '点击设置'}}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<view class=\"btn\" @click=\"upUserInfo()\">\r\n\t\t\t<text class=\"text\" @click=\"upUserInfo()\">保存</text>\r\n\t\t</view>\r\n\t\t<view class=\"\" style=\"text-align: center;width: 100%;bottom: 0rpx;\">\r\n\t\t\t<text style=\" font-size: 20rpx ;\">*点击信息进行修改*</text>\r\n\t\t</view>\r\n\t\t<!-- 修改弹出窗 -->\r\n\t\t<uni-popup ref=\"edit\" type=\"center\" :custom=\"true\" :mask-click=\"false\">\r\n\t\t\t<view class=\"uni-tip\">\r\n\t\t\t\t<view class=\"uni-tip-title\">修改</view>\r\n\t\t\t\t<view class=\"uni-tip-content\">\r\n\t\t\t\t\t<text class=\"uni-tip-content-left\">用户名：</text>\r\n\t\t\t\t\t<input class=\"uni-tip-content-right\" :value=\"userInfo.nickname\" @input=\"uptempName\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-tip-content\">\r\n\t\t\t\t\t<text class=\"uni-tip-content-left\">生&emsp;日：</text>\r\n\t\t\t\t\t<input class=\"uni-tip-content-right\" :value=\"userInfo.birthday\" @input=\"uptempName\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-tip-content\">\r\n\t\t\t\t\t<text class=\"uni-tip-content-left\">手机号：</text>\r\n\t\t\t\t\t<input class=\"uni-tip-content-right\" :value=\"userInfo.birthday\" @input=\"uptempName\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-tip-content\">\r\n\t\t\t\t\t<text class=\"uni-tip-content-left\">性&emsp;别：</text>\r\n\t\t\t\t\t<radio-group class=\"radio-group\" bindchange=\"radioChange\" @change=\"upTempGender\">\r\n\t\t\t\t\t\t<label class=\"radio\" >\r\n\t\t\t\t\t\t\t男<radio class=\"radio-style\" value= 0 :checked=\"userInfo.gender == 0\"/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label class=\"radio\" >\r\n\t\t\t\t\t\t\t女<radio class=\"radio-style\" value= 1 :checked=\"userInfo.gender == 1\"/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</radio-group>\r\n\t\t\t\t</view>\r\n\t\t\t\t<br>\r\n\t\t\t\t<view class=\"uni-tip-group-button\">\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"cancel('edit')\">取消</view>\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"upName()\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t\r\n\t\t<uni-popup :show=\"show\" :type=\"type\" :custom=\"true\" :mask-click=\"false\">\r\n\t\t\t<view class=\"uni-tip\">\r\n\t\t\t\t<view class=\"uni-tip-title\">修改用户名</view>\r\n\t\t\t\t<view class=\"uni-tip-content\"><input :value=\"userInfo.nickname\" @input=\"uptempName\"/></view>\r\n\t\t\t\t<view class=\"uni-tip-group-button\">\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"cancel('tip')\">取消</view>\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"upName()\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"email\" :type=\"type\" :custom=\"true\" :mask-click=\"false\">\r\n\t\t\t<view class=\"uni-tip\">\r\n\t\t\t\t<view class=\"uni-tip-title\">修改邮箱</view>\r\n\t\t\t\t<view class=\"uni-tip-content\"><input v-model=\"userInfo.email\" @input=\"uptempEmail\"/></view>\r\n\t\t\t\t<hr style=\"height:1px;border:none;border-top:1px solid #555555;\" />\r\n\t\t\t\t<view class=\"uni-tip-group-button\">\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"cancel('email')\">取消</view>\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"upEmail()\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"gender\" :type=\"type\" :custom=\"true\" :mask-click=\"true\">\r\n\t\t\t<view class=\"uni-tip\">\r\n\t\t\t\t<view class=\"uni-tip-title\">性别</view>\r\n\t\t\t\t<radio-group class=\"radio-group\" bindchange=\"radioChange\" @change=\"upTempGender\">\r\n\t\t\t\t\t<label class=\"radio\" >\r\n\t\t\t\t\t\t男<radio class=\"radio-style\" value= 1 :checked=\"userInfo.gender == 1\"/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label class=\"radio\" >\r\n\t\t\t\t\t\t女<radio class=\"radio-style\" value= 2 :checked=\"userInfo.gender == 2\"/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</radio-group>\r\n\t\t\t\t<view class=\"uni-tip-group-button\">\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"cancel('gender')\">取消</view>\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"upGender()\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t\r\n\t\t<uni-popup ref=\"phone\" type=\"center\" :custom=\"true\" :mask-click=\"false\">\r\n\t\t\t<view class=\"uni-tip\">\r\n\t\t\t\t<view class=\"uni-tip-title\">修改</view>\r\n\t\t\t\t<view class=\"uni-tip-content\">\r\n\t\t\t\t\t<text class=\"uni-tip-content-left\">手机号：</text>\r\n\t\t\t\t\t<input class=\"uni-tip-content-right\" :value=\"userInfo.phone\" @input=\"uptempPhone\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-tip-content\">\r\n\t\t\t\t\t<text class=\"uni-tip-content-left\">验证码：</text>\r\n\t\t\t\t\t<input class=\"uni-tip-content-code\" v-model=\"code\"/>\r\n\t\t\t\t\t<!-- <button size=\"mini\" v-if=\"!time\" class=\"uni-tip-btn\" type=\"primary\">验证码</button> -->\r\n\t\t\t\t\t<text class=\"uni-tip-text\" @tap=\"getsmscode\">{{smsbtn.text}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<br>\r\n\t\t\t\t<view class=\"uni-tip-group-button\">\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"cancel('phone')\">取消</view>\r\n\t\t\t\t\t<view class=\"uni-tip-button\" @click=\"upPhone()\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState,mapMutations } from 'vuex';\r\n\timport Api from 'common/js/model.js';\r\n\timport uniList from '@/components/uni-list/uni-list.vue'\r\n\timport uniListItem from '@/components/uni-list-item/uni-list-item.vue'\r\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniList,\r\n\t\t\tuniListItem,\r\n\t\t\tuniPopup\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow: false,\r\n\t\t\t\ttype: '',\r\n\t\t\t\ttempName:'',\r\n\t\t\t\ttempGender:0,\r\n\t\t\t\ttempPhone:'',\r\n\t\t\t\ttempEmail:'',\r\n\t\t\t\tuserInfo:{\r\n\t\t\t\t\tusername:\"\",\r\n\t\t\t\t\tphone:\"\",\r\n\t\t\t\t\tcreateTime:\"\",\r\n\t\t\t\t\tbalance2:\"\",\r\n\t\t\t\t\tintegration:\"\",\r\n\t\t\t\t\temail:\"\",\r\n\t\t\t\t\tbirthday:\"\",\r\n\t\t\t\t},\r\n\t\t\t\ttime:false,\r\n\t\t\t\tcode:\"\",\r\n\t\t\t\ttoken:\"\",\r\n\t\t\t\tsmsbtn: {\r\n\t\t\t\t\ttext: '验证码',\r\n\t\t\t\t\tstatus: false,\r\n\t\t\t\t\tcodeTime: 60,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t}\r\n\t\t\t}; \r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin','userInfo']),\r\n\t\t\tstartDate() {\r\n\t\t\t\treturn this.getDate('start');\r\n\t\t\t},\r\n\t\t\tendDate() {\r\n\t\t\t\treturn this.getDate('end');\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\t\ttime: function time(value) {\r\n\t\t\t\t\tif(!value){\r\n\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar year = value.substr(0, 4)\r\n\t\t\t\t\tvar month = value.substr(5, 2)\r\n\t\t\t\t\tvar day = value.substr(8, 2)\r\n\t\t\t\t\tvar hour = value.substr(11, 2)\r\n\t\t\t\t\tvar min = value.substr(14, 2)\r\n\t\t\t\t\tvar seconds = value.substr(17, 2)\r\n\t\t\t\t\treturn year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + min + \":\" + seconds;\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tthis.loadUserInfo();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t...mapMutations(['login','logout']),\r\n\t\t\ttogglePopup(type, open) {\r\n\t\t\t\tthis.type = type\r\n\t\t\t\tif (open === 'tip') {\r\n\t\t\t\t\tthis.show = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(open === 'phone'){\r\n\t\t\t\t\t\tthis.code='';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$refs[open].open()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbindDateChange: function(e) {\r\n\t\t\t\tthis.userInfo.birthday = e.target.value\r\n\t\t\t},\r\n\t\t\tgetsmscode: function() {\r\n\t\t\t\tvar _self=this;\r\n\t\t\t\tif (this.smsbtn.status == true ) {\r\n\t\t\t\t\tthis.$api.msg(\"别着急！短信已经发送了~\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.smsbtn.status = true; // 这段代码其实应该加在你request请求 短信发送成功后 \r\n\t\t\t\tthis.smsbtn.loading = true;\r\n\t\t\t\tApi.methods.sendSms({\"phone\":this.tempPhone}).then(function(res){\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t// if(res.data.res === -1){\r\n\t\t\t\t\t// \t_self.$api.msg(res.data.msg)\r\n\t\t\t\t\t// \t_self.smsbtn.loading = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t})\r\n\t\t\t\tthis.timerId = setInterval(() => {\r\n\t\t\t\t\t\tvar codeTime = this.smsbtn.codeTime;\r\n\t\t\t\t\t\tcodeTime--;\r\n\t\t\t\t\t\tthis.smsbtn.codeTime = codeTime;\r\n\t\t\t\t\t\tthis.smsbtn.text = codeTime + \"S\";\r\n\t\t\t\t\t\tif (codeTime < 1 || !this.smsbtn.loading) {\r\n\t\t\t\t\t\t\tclearInterval(this.timerId);\r\n\t\t\t\t\t\t\tthis.smsbtn.text = \"重新获取\";\r\n\t\t\t\t\t\t\tthis.smsbtn.codeTime = 60;\r\n\t\t\t\t\t\t\tthis.smsbtn.status = false;\r\n\t\t\t\t\t\t\t_self.smsbtn.loading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t1000);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tgetDate(type) {\r\n\t\t\t\tconst date = new Date();\r\n\t\t\t\tlet year = date.getFullYear();\r\n\t\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\t\tlet day = date.getDate();\r\n\r\n\t\t\t\tif (type === 'start') {\r\n\t\t\t\t\tyear = year - 60;\r\n\t\t\t\t} else if (type === 'end') {\r\n\t\t\t\t\tyear = year + 2;\r\n\t\t\t\t}\r\n\t\t\t\tmonth = month > 9 ? month : '0' + month;;\r\n\t\t\t\tday = day > 9 ? day : '0' + day;\r\n\t\t\t\treturn `${year}-${month}-${day}`;\r\n\t\t\t},\r\n\t\t\tloadUserInfo(){\r\n\t\t\t\tvar _self=this;\r\n\t\t\t\tApi.methods.loadUserInfo().then(function(res){\r\n\t\t\t\t\tif(res.data.code===200){\r\n\t\t\t\t\t\t_self.login(res.data.data);\r\n\t\t\t\t\t\t_self.userInfo=res.data.data;\r\n\t\t\t\t\t\t_self.tempGender=res.data.data.gender\r\n\t\t\t\t\t\t_self.tempName=res.data.data.username\r\n\t\t\t\t\t\t_self.tempPhone=res.data.data.phone\r\n\t\t\t\t\t\t_self.tempEmail=res.data.data.email\r\n\t\t\t\t\t\t_self.token=res.data.data.token\r\n\t\t\t\t\t\tconsole.log(res.data.data.token)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_self.logout()\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl :'/pages/public/login'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcancel(type) {\r\n\t\t\t\tif (type === 'tip') {\r\n\t\t\t\t\tthis.show = false\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs[type].close()\r\n\t\t\t},\r\n\t\t\tuptempName(event){\r\n\t\t\t\tthis.tempName=event.detail.value\r\n\t\t\t},\r\n\t\t\tupName(){\r\n\t\t\t\tthis.userInfo.nickname=this.tempName;\r\n\t\t\t\tthis.cancel('tip')\r\n\t\t\t},\r\n\t\t\tuptempEmail(event){\r\n\t\t\t\tthis.tempEmail=event.detail.value\r\n\t\t\t},\r\n\t\t\tupEmail(){\r\n\t\t\t\tthis.userInfo.email=this.tempEmail;\r\n\t\t\t\tthis.cancel('email')\r\n\t\t\t},\r\n\t\t\tuptempPhone(event){\r\n\t\t\t\tthis.tempPhone=event.detail.value\r\n\t\t\t},\r\n\t\t\tupPhone(){\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\t/* 验证手机号验证码 */\r\n\t\t\t\tApi.methods.checkSms({\"code\":this.code,\"phone\":this.tempPhone}).then(function(res){\r\n\t\t\t\t\tconsole.log(\"hdafgsjh\" + JSON.stringify(res))\r\n\t\t\t\t\tif(res.data.code === 200){\r\n\t\t\t\t\t\t_self.userInfo.phone = _self.tempPhone;\r\n\t\t\t\t\t\t_self.cancel('phone');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_self.cancel('phone');\r\n\t\t\t\t\t\t_self.$api.msg(\"验证码输入错误！\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tupUserInfo(){\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tApi.methods.upUserInfo(_self.userInfo).then(function(res){\r\n\t\t\t\t\tvar result = res.data\r\n\t\t\t\t\tif(result.code === 200){\r\n\t\t\t\t\t\t_self.$api.msg(\"修改成功\")\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_self.$api.msg(\"修改失败，请重试\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupTempGender(event){\r\n\t\t\t\tthis.tempGender=event.detail.value\r\n\t\t\t},\r\n\t\t\tupGender(){\r\n\t\t\t\tthis.userInfo.gender=this.tempGender;\r\n\t\t\t\tthis.cancel('gender')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n@import './userinfo-new.scss';\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userinfo-new.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userinfo-new.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594012977886\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}